---
title: 计网
date: 2021-01-02 23:17:07
tags:
- 计算机网络
categories:
- 考试
---

# 第一章 概述

### 1. 互联网发展的三个阶段
1. 第一阶段：从单个网络ARPANET向互联网发展的进程。ARPANET最初只是一个单个的分组交换网，所有在其上的主机都要直接或间接与就近的节点相连。1983年TCP/IP成为ARPANET标准协议，所有使用TCP/IP协议的计算机都可以使用互联网通信。
2. 第二阶段：构成三级结构的互联网。他是一个三级网络，分为主干网，地区网和校园（企业）网
3. 第三阶段：逐渐形成了多层次ISP结构的互联网。出现互联网提供者，只要交纳费用，即可从该ISP获得IP使用权，通过该ISP接入互联网。ISP也分为主干ISP、地区ISP和本地ISP

IXP：互联网交换点，主要作用是允许两个网络可以直接相连并交换分组，而不用通过第三个网络来转发分组

### 2. 互联网的组成

1. 边缘部分：由所有连接在互联网上的主机（端系统）组成，这部分是用户直接使用的，用于通信和资源共享
2. 核心部分：由大量网络和连接这些网络的路由器构成，这部分为边缘部分提供服务。

#### 端系统间的通信方式

1. 客户-服务器方式（C/S）
2. 对等方式（P2P）：两端即是客户端又是服务端

#### 分组交换

1. 采用**存储转发**技术
2. 将较长的报文划分为较短的数据段，并在前加上必要的首部，构成一个分组
3. 分组交换是以**分组**为数据传输单元
4. 优点
	1. 高效：采用动态分配
	2. 灵活：每个分组独立的选择最合适的转发路由
	3. 迅速：可以不建立连接就可以发送
	4. 可靠

<img src="http://cdn.zhouxug.cn/20210104205221.png" alt="image-20210104205221553" style="zoom:80%;" />

### 3. 不同类别的计算机网络

#### 作用范围分类

1. 广域网WAN：几十到几千公里
2. 城域网MAN：5~50公里
3. 局域网LAN：1公里左右
4. 个人区域网PAN：10米左右

#### 使用者分类

1. 专用网
2. 公用网

### 4. 时延

1. 发送 / 传输时延：发送数据帧的第一个比特，到该帧最后一个比特发送完毕

	数据帧长度 / 发送速率

2. 传播时延：在信道中传播的时间

	信道长度 / 信号在信道上的传播速率

3. 处理时延

4. 排队时延

### 5. 往返时间 RTT

> 从发送方发送数据开始，到发送方接收到接收方的确认所经历的时间

### 题目

1. 分组交换较于报文交换的优点

	报文交换也是采用存储转发技术，但是不对报文进行分割，而是把整个报文在网络节点中存储下来，这样灵活性不如分组交换，传输延迟大。

2. 协议与服务的区别

  1. 协议：是水平的，控制两个对等实体进行通信的规则的集合
  2. 服务：是垂直的，是由下层向上层通过层间接口提供的，上层使用服务原语来获得下层提供的服务
  3. 区别：协议是保证向上提供服务；本层的用户只能看见服务，而看不见下面的协议，协议对于上层用户是透明的；

3. 网络协议的三要素及其含义

  1. 语法：数据与控制信息的结构或格式
  2. 语义：需要发出何种控制信息，完成何种动作以及做出何种相应
  3. 同步：事件实现顺序的详细说明

# 第二章 物理层

### 1. 物理层基本概念

> ​	如何在连接各种计算机的传输媒体上传输比特流，而不指具体的传输媒体。尽可能屏蔽掉不同传输媒体和通信手段

主要任务：确定与传输媒体的接口的一些特性

1. 机械特性，接口所用的接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等

2. 电气特性，接口电缆的各条线上出现的电压的范围

3. 功能特性，某条线上出现的某一电平电压的意义

4. 过程特性，不同功能的可能时间的出现顺序

### 2. 有关信道的基本概念

#### 码元

> 在使用时间域的波形表示数字信号时，代表不同离散数值的基本波形

1. 单工通信：只有一个方向可以通信，而不能反方向交互
2. 半双工通信：双方可以发消息，但是不能同时发送
3. 全双工通信：双方可以同时发送和接收消息

速率：

1. 码元传输速率 / 波特率：单位时间内数字系统所传输的码元个数，单位波特，码元可以是多进制的，也可以是二进制的
2. 信息传输速率 / 比特率：单位时间数字通信系统传输的二进制码元个数，单位是比特

### 3. 常用编码方式

1. 不归零制：正电平代表1，负电平代表0

2. 归零制：正脉冲代表1，负脉冲代表0

3. 曼彻斯特编码：中心向上跳代表0，向下为1  **局域网发送数据都是用曼彻斯特编码**

	缺点：所占频带宽度比原始基带信号增加了一倍，因为数据传输间有一次跳变。

	​			比如传比特1，宽度为t，曼彻斯特编码在前1/2t传1，后1/2t传0，这就使得原本的一个比特，变为2个

4. 差分曼彻斯特码：中心始终跳变，位开始边界跳变为0，不跳为1

<img src="http://cdn.zhouxug.cn/20210104211514.png" alt="image-20210104211514751" style="zoom:80%;" />

### 4. 信道的极限容量

#### 1. 奈奎斯特定理

> 不考虑噪声下最大数据传输速率理论上限

<img src="http://cdn.zhouxug.cn/20210104211944.png" alt="image-20210104211944199" style="zoom:80%;" />

#### 2. 信噪比

> 信号平均功率和噪声的平均功率之比，分贝作为单位

![image-20210104212141174](http://cdn.zhouxug.cn/20210104212141.png)

香农公式：考虑高斯噪声干扰的信道极限无差错传输速率

<img src="http://cdn.zhouxug.cn/20210104232512.png" alt="image-20210104232512626" style="zoom:80%;" />

提高传输速率：

1. 提高信噪比
2. 提高信道带宽
3. 让一个码元携带更多信息

### 5. 信道复用技术

#### 1. 频分复用、时分复用、统计时分复用

1. 频分复用：每个用户在同样的时间占用不同的频率带宽资源

	<img src="http://cdn.zhouxug.cn/20210104232852.png" alt="image-20210104232852071" style="zoom:80%;" />

2. 时分复用：将时间划分为一段等长的时分复用帧，每个用户所占用的时隙时周期性出现的，即在不同的时间占用同样的频带宽度。

	<img src="http://cdn.zhouxug.cn/20210104233043.png" alt="image-20210104233043014" style="zoom:80%;" />

	缺点：又续计算机数据的突发性，用户对分配到的子信道的利用率普遍不高

	<img src="http://cdn.zhouxug.cn/20210104233203.png" alt="image-20210104233203461" style="zoom:80%;" />

3. 统计时分复用：统计时分复用帧时动态分配

<img src="http://cdn.zhouxug.cn/20210104233329.png" alt="image-20210104233329030" style="zoom:80%;" />

#### 2. 波分复用

> 光的频分复用，即使用一根光纤来同时传输多个光载波信号

<img src="http://cdn.zhouxug.cn/20210104233430.png" alt="image-20210104233430759" style="zoom:80%;" />

#### 3. 码分复用 / 码分多址 CDMA

> 将每个比特时间划分成m个短的间隔，称为码片，每个用户被指派为一个唯一的m bit的码片序列

若发送比特1，则发送m bit 的码片序列

若发送比特0，则发送该码片序列的反码

特点：

1. 不同的码片相互正交，即内积为0
2. 码片和自己规格化内积为1

### 题目 2-16 好好看

# 第三章 数据链路层

### 1. 数据链路层使用的信道

1. 点对点信道：一对一的点对点通信
2. 广播信道：一对多的广播通信

### 2. 数据链路层传送的是帧

### 3. 数据链路层的三个基本问题

1. 封装成帧：IP数据报的前后添加首尾部，用于帧定界
2. 透明传输：字符填充解决“错误的帧界定符问题”，SOH or EOT前插入ESC转义字符，若已经有一个ECS，则再插入一个ESC
3. 差错控制：循环冗余检验 CRC。注意：CRC差错检测只能做到无差错接受，无法做到可靠传输。

#### 无差错接受

> 凡是接受的帧，我们都能以非常接近1的概率认为这些帧在传输过程中没有差错

#### 可靠传输

> 发送端发送什么，接收端就收到什么，要在无差错接受基础上加确认和重传机制

### 4. 数据链路层的两个子层

> 为使数据链路层更好实应多种局域网标准，将数据链路层拆分为两个子层

1. 逻辑链路控制层 / LLC
2. 媒体接入控制层 / MAC：存放与传输媒体有关的内容,针对多个结点争用传输媒体而制定的控制协议,如CSMA/CD (载波监听多点接入 / 碰撞检测)

不管使用何种协议的局域网，对LLC子层来说都是透明的

<img src="http://cdn.zhouxug.cn/20210105001050.png" alt="image-20210105001049808" style="zoom:80%;" />

### 5. 以太网采用广播方式发送

<img src="http://cdn.zhouxug.cn/20210105001410.png" alt="image-20210105001410398" style="zoom:67%;" />

> ​	总线上每个计算机都能检测到B发送的信号,但只有D会接受，ACE则会丢弃，从而在具有广博特性的总线上实现了一对一通信

### 6. 以太网的两个措施

1. 使用无连接的工作方式：可以不建立连接就发数据，对发送的数据不进行编号也不要求确认。**差错纠正交给高层决定**
2. 使用曼彻斯特编码。

### 7. CDMA／CD 载波监听多点接入 / 碰撞检测

- 载波监听：发送数据前要检测总线上是否有其他计算机在发送数据
- 多点接入：许多计算机以多点接入的方式连接在一根总线上
- 碰撞检测：边发送数据边检测信道上的电压，发生碰撞后立即停止发送，并间隔一段时间再发送

#### 传播时延对载波监听的影响

单程端到端传播时延记为τ(tao)

<img src="http://cdn.zhouxug.cn/20210105090044.png" alt="image-20210105090044019" style="zoom:67%;" />

#### CSMA / CD重要特性

- 使用CSMA / CD协议的以太网仅能进行半双工通信
- 每个站在发送数据数据后的一小段时间里存在碰撞的可能
- **发送的不确定性**使得整个以太网的平均通信量远小于最高数据率

#### 争用期 / 碰撞窗口

> 以太网的端到端往返时延2τ，在这段时间里还没有检测到碰撞，才能肯定这次发送不会发生碰撞

#### 争用期长度

> 10Mbit/s以太网取51.2μs为**争用期长度**，对于10Mbit/s的以太网，争用期可以发送512bit,即64字节

#### 最短有效帧长

> 即如果发生冲突，一定在前64个字节之内，凡是长度小于64字节的帧都是由于冲突而异常终止的无效帧

#### 二进制指数类型退避算法

> 发生碰撞后，要退避一个随机时间才能发送数据

- 基本退避时间取争用期2τ
- 从整数集合[0,1,2,...,(2的k次方 - 1)]去一个数记为r，退避时间为r * 2τ
- k = min{重传次数，10}
- 当重传次数 = 16仍不成功，则丢弃此帧并向上层汇报

#### 强化碰撞

> 发生碰撞停止发送数据后，再连续发送若干比特的人为干扰信号，让所有用户都知道现在已经发生了碰撞

<img src="http://cdn.zhouxug.cn/20210105092324.png" alt="image-20210105092324509" style="zoom:67%;" />

#### 帧间最小间隔

> 一个站在检测到总线空闲时，还要等9.6μs才能发送数据，相当于96bit发送时间。目的是为了让刚刚收到数据帧的站对接收缓存进行清理，并为接收下一帧最好准备

#### CSMA / CD要点

1. 准备发送：发送前检测信道
2. 检测信道：若信道忙，则不停检测；若闲，且在96比特时间内保持空闲，则发送帧
3. 检查碰撞
	1. 成功：争用期没有检测到碰撞
	2. 失败：争用期有碰撞，停止发送，适配器进行指数退避算法，等待r的512比特时间后返回步骤2，准备重传，若16次仍未成功，则停止且向上级汇报

### 8. 信道利用率

成功发送一个帧所占用的时间是发送时延(T0) + τ

<img src="http://cdn.zhouxug.cn/20210105101608.png" alt="image-20210105101608759" style="zoom:80%;" />

要提高信道利用率，则必须要减小 α = τ / T0 的值

信道利用率 = T0 / 总时延

# 第四章 网络层

















