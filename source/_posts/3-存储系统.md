---
title: 3.存储系统
date: 2021-04-20 20:04:09
tags:
- 计算机组成原理
categories:
- 408笔记
---

# 3.1 存储器概述

### 3.1.1 存储器分类

#### 1. 作用 / 层次分类

1. 主存储器：CPU可直接访问，也可以和Cache以及辅存交换数据
2. 辅存储器：不能与CPU直接交换数据
3. 高速缓冲存储器：用于存放正在执行的数据，用于提升存储效率

**注：CPU 与Cache交换数据以字为单位，Cache与主存数据交换以Cache块为单位**

#### 2. 存储介质

1. 磁表面：磁盘、磁带、磁心存储器、半导体存储器（MOS，双极型）
2. 光存储：光盘

#### *3. 存取方式

1. 随机存储器 / RAM：存储器任何一个存储单元的内容都可以随机存取，且存取时间与存储单元物理位置无关

2. 只读存储器 / ROM：广义上的只读存储器已通过电擦除等方式可进行写入，**其“只读”概念没有保留，仅保留断电内容保留、随机读取特性，但写入速度比读取速度慢得多**。

	1. 掩模式只读存储器 / MROM：在生产过程中直接写入，以后任何人都无法改变其内容

	2. 一次可编程只读存储器 / PROM：允许用户用专门设备写入程序，写入后内容就无法改变

	3. 可擦除可编程只读存储器 / EPROM：可多次改写，修改时先全部擦除，再编程。编程次数有限，写入时间过长

		1. 紫外线擦除(UVEPROM)
		2. 电擦除(EEPROM)

	4. 闪速存储器(Flash Memory):EPROM和EEPROM(电可擦除可编程存储器)基础上发展而来，**用MOS管上的浮栅有无电荷来存储信息；写入时仍要先擦去原有数据，因此写入速度比读速度满不少。**

		*u盘*

	5. 固态硬盘：由控制单元和**闪存存储器**构成。

	**注1： HDD不是ROM，是硬盘，硬盘是磁盘的一种，即直接存取存储器**

	**注2：ROM和RAM均是随机存取方式，随机存取方式不一定是随机存取存储器**

3. 串行访问存储器：读写操作时，按其物理位置下的先后进行寻址

	1. 顺序存取存储器：只能按某种顺序存取，存取时间的长短与信息在存储体上的物理位置有关，其特点是存取速度慢。

		*磁带*

	2. 直接存取存储器 / 半顺序存取存储器：寻找整个存储器中的某个小区域（如磁盘上的磁道），再在小区域内顺序查找。

		*磁盘，光盘*

#### 4. 信息可保存性：

1. 断电后存储信息是否消失:易失性(RAM)、非易失性
2. 读出是否破坏信息:破坏性读出(DRAM)、非破坏性读出

#### 5. 补充：相联存储器

​	把存储单元所存取的内容的某一部分作为检索项 / 关键字去检索该存储器，并将存储器中与该检索项符合的存储单元进行读出和写入，**按内容或地址寻址**

​	*TLB快表、相联Cache*

### 3.1.2 性能指标

1. 存储容量:存储字数 * 字长(如1M * 8位)

2. 单位成本:每位价格 = 总成本 / 总容量

3. 存储速度:数据传输率 = 数据的宽度 / 存储周期

	1. 存取时间(Ta)：一次读操作从开始到完成，将数据读出到数据总线上的时间。由于写操作时间 ≈ 读操作时间，故称为存取时间

	2. 存取周期(Tm):存取周期又称为读写周期或访问周期。它是指存储器进行一次完整的读写操作所需的全部时间,即连续两次独立地访问存储器操作(读或写操作)之间所需的最小时间间隔。

		<img src="http://cdn.zhouxug.cn/20210420212035.png" alt="image-20210420212035375" style="zoom:67%;" />

	3. 主存带宽(Bm):主存带宽又称数据传输率或存储器带宽，表示每秒从主存进出信息的最大数量,单位为字/秒,字节/秒(B/s)或位/秒(b/s)。

# 3.2 存储层次化结构
### 1. 多级存储器结构

<img src="http://cdn.zhouxug.cn/20210420212648.png" alt="image-20210420212648758" style="zoom:67%;" />

### 2. 三级存储器结构

1. Cache-主存层次；硬件实现,解决速度不匹配问题。**主存和Cache间的数据调动全部是由硬件完成，对所有程序员都是透明的**

2. 主存-辅存层次；硬件+操作系统实现,解决容量问题,逐渐形成虚拟存储系统。**主存和辅存间的数据调动由硬件和操作系统共同完成，对应用程序员透明，系统程序员不透明，页式和段页式则对应用程序员半透明。**

	<img src="http://cdn.zhouxug.cn/20210420213308.png" style="zoom:67%;" />

# 3.3 半导体随机存储器

> ​	把存放一份二进制位的物理器件称为存储元，地址码相同的存储元组成一个存储单元，多个存储单元组成存储体

### 3.3.1 SRAM 与 DRAM

| 特点类型   | SRAM   | DRAM                                     |
| ---------- | ------ | ---------------------------------------- |
| 存储信息   | 触发器 | 栅极电容上的电荷                         |
| 破坏性读出 | 非     | 是                                       |
| 需要刷新   | 不要   | 需要                                     |
| 送行列地址 | 同时送 | 分两次送(地址复用技术)，分行、列两次传送 |
| 运行速度   | 快     | 慢                                       |
| 集成度     | 低     | 高(只有一个晶体管)                       |
| 发热量     | 大     | 小                                       |
| 存储成本   | 高     | 低                                       |
| 常用作     | Cache  | 主存                                     |

### 3.3.2 DRAM的刷新

> DRAM电容上的电荷一般只能维持1~2ms，每隔一段时间要刷新，通常取2ms，称为刷新周期。

1. 分散刷新 : 每次读写完都刷新一行，存取周期一段用来读写，一段用来刷新，不存在死时间，但是存取周期变长。

	![image-20210420225608967](http://cdn.zhouxug.cn/20210420225609.png)

2. 集中刷新  : 2ms内集中安排时间全部刷新，存在一段死时间

	![image-20210420225619823](http://cdn.zhouxug.cn/20210420225619.png)

3. 异步刷新 : 2ms内每行刷新一次即可,刷新时间除以行数，每过一小段时间刷新一次，缩短了死时间，但死时间仍然存在。

![image-20210420225732426](http://cdn.zhouxug.cn/20210420225732.png)

































